<div class="container">
  <div class="row">
    <div class="col-md-4 col-sm-12 p-3  my-5 text-center border border-2" >
      <section class="gallery" >
          <div class="img-container">
            <img src="{{product?.images}}" class="img-fluid img-prev border border-2" id="preview" style="height: 400px;" alt=".....">
              <ng-container *ngFor="let img of product?.images">
                <div class="img-slide my-2 p-3 border border-2">
                  <img [src]="img" class="img-fluid" alt="....." appProductDetails>
                </div>
              </ng-container>
          </div>
      </section>
    </div>
    <div class="col-md-5 col-sm-12 my-5  mx-2">
      <div>
        <p class="fs-3">{{product?.name}}</p>
      </div>
      <hr>
      <div>
        <p class="fs-3 text-info">{{product?.price|currency:'EGP':'symbol'}}</p>
      </div>
      <hr>
      <div>
        <p class="fs-4  text-dark">{{product?.description}}</p>
      </div>
    </div>

    <div class="col-md-2 col-sm-12 my-5 text-center border border-2">
      <form class="form text-center">
        <div class="text-center">
          <label class="mt-3 mx-2">Quantity</label>
          <select [(ngModel)]="Quantity" [ngModelOptions]="{standalone: true}" class="form-control rounded-pill d-inline mx-auto w-75">
            <ng-container *ngFor="let i of numbers">
              <option class="text-center">{{i}}</option>
            </ng-container>
          </select>
        </div>
        <div class="my-2">
          <ng-container [ngSwitch]="product?.unitInStock">
            <ng-container *ngSwitchCase="0">
              <p class="text-danger">Out Of Stock</p>
            </ng-container>
            <ng-container *ngSwitchCase="1">
              <p class="text-danger">last One</p>
            </ng-container>
            <ng-container *ngSwitchCase="2">
              <p class="text-danger">LastTwo</p>
            </ng-container>
            <ng-container *ngSwitchDefault><p class="text-success">in Stock</p></ng-container>
          </ng-container>
        </div>
        <div>
          <button (click)="addToCart(product)" class="btn rounded-pill btn-warning w-75 border border-warning my-2">Add To Cart</button>
          <button class="btn rounded-pill btn-warning w-75 border border-warning">
            Buy Now
          </button>
        </div>
      </form>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-md-4 col-sm-12 p-3" >
      <h2>Important information</h2>
      <hr>
      <h2>Customer Reviews</h2>
      <div class="main p-2" *ngFor="let rate of productRates | keyvalue">
        <p class="me-1">{{rate.key}} star</p>
        <div class="mt-1">
      <div class="progress" role="progressbar" aria-label="Warning example"
         aria-valuemin="1" aria-valuemax="5">
        <div class="progress-bar bg-warning" [style.width.%]="(rate.value/5)*100"></div>
      </div>
      </div>
      <p class="ms-1">{{(rate.value/5)*100}}%</p>
      </div>
      <button class="btn btn-secondary text-center ms-4" (click)="ProductRate(product)" >
        Write a customer review</button>
      </div>
      <div class="col-md-4 col-sm-12 mt-3 p-3" >
        <h4>Top review from Egypt</h4>
        <div class="d-flex flex-column m-4" *ngFor="let rate of productReviews">
          <div class="d-flex flex-row">
            <img src="assets/images/profile.png" class="avatar img-flued" style="width: 50px;height:50px;">
            <h5 class="m-2">{{rate.userName}}</h5>
          </div>
          <div class="d-flex flex-row me-3">
            <div class="starRating">
              <span  *ngFor="let index of [1,2,3,4,5]"
              [ngClass]="[rate.rate>=index ? 'fa fa-star checked' :'fa fa-star']" id=index ></span>
            </div>
            <div>
              <h5 class="ms-2">{{rate.review}}</h5>
            </div>
          </div>
        </div>
  </div>
</div>
